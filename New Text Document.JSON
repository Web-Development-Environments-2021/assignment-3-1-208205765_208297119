openapi: 3.0.0
info:
  version: 3.0.3
  title: Project_3.1
  description: Project_3.1 api
paths:
  /login:
    post:
      tags: 
        - users
      summary: user log in
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/Login'
      responses:
        '400':
          description: UserName or password is invalid
        '201':
          description: successfuly logged in
            
  /register:
    post:
      tags: 
        - users
      summary: user register
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/Register'
      responses:
        '201':
          description: successful user register
        '400':
          description: one or more items were invalid
  /leagueDetails:
    get:
      tags:
        - main page
      summary: league details
      description: show league name, current season, current stage, details of next planned game
      responses:
        '200':
          description: league's data
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/mainPageLeagueDetails'
        '404':
          description: could'nt retrieve the data
            
  /usersGames:
    get:
      tags:
        - main page
      summary: 3 favourite games of user
      description: 3 favourite games of user that haven't occured yet
      responses:
        '200':
          description: data of games
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/mainPageGames'
        '404':
          description: could'nt retrieve the data
          
  /associationTeamCard:
    get:
      tags: 
        - team page
      summary: show team details
      responses:
        '200':
          description: success
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/team'
        '404':
          description: could'nt retrieve the data
  
  /game_week:
    get:
      tags: 
        - game week page
      summary: show all game week details
      responses:
        '200':
          description: success
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/weekGames'
        '404':
          description: could'nt retrieve the data
	/playerPage:
    get:
      tags:
        - playerPage
      summary: show player details
      responses:
        '200':
          description: player details
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/playerDetails'
        '404':
          description: details weren't found
   
  /coachPage:
    get:
      tags:
        - coachPage
      summary: show coach details
      responses:
        '200':
          description: coach details were shown
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/coachDetails'
        '404':
          description: details weren't found
  /addToFavorites:
     post:
      tags:
        - favorites
      summary: add player to user's favorite players
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/favoritePlayer'
      responses:
        '201':
          description: player was added to favorites list
        '500':
          description: problem in server
  /playerSearch:
    get:
      tags: 
        - search
      summary: player search by name
      parameters:
        - name: player's name
          in: query 
          schema:
            type: string
            description: player's name
            example: Lionel Messi
          required: true  
      responses:
        '200':
          description: show list of players
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/playersList'
        '404':
          description: invald syntax
  
  /coachSearch:
    get:
      tags:
        - search
      summary: search coach by name
      parameters:
        - name: coach'es name
          in: query
          schema:
            type: string
            description: name of the coach to search
            example: Pep Guardiola
      responses:
        '200':
          description: list of coaches showed successfully
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/coachesList'
        '500':
          description: problem with server
  
  /teamsSearch:
    get:
      tags:
        - search
      summary: teams search by team name
      parameters:
        - name: team name
          in: query
          schema:
            type: string
            description: team name
            example: Barcelona
      responses:
        '200':
          description: teams list shown successfully
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/teamsList'
        '404':
          description: invalid syntax	  
    

servers:
  # Added by API Auto Mocking Plugin
  - description: SwaggerHub API Auto Mocking
    url: https://virtserver.swaggerhub.com/ronny5423/Project_3.1/3.0.3
components:
  schemas:
    Login:
      type: object
      description: user info for login
      properties:
        username:
          type: string
          minLength: 3
          maxLength: 8
          description: username must be between 3 to 8 chars and only letters
          example: abba
        password:
          type: string
          minLength: 5
          maxLength: 10
          format: password
          description: password between 5 to 10 chars, must consist of 1 digit and 1 special char
          example: 123456!
    Register:
      type: object
      description: Model containing user info for register
      properties:
        username:
          type: string
          minLength: 3
          maxLength: 8
          description: username must be between 3 to 8 chars and only letters
          example: abba
        firstname:
          type: string
          description: user first name
          example: Ron
        lastname:
          type: string
          description: user last name
          example: Tyntarev
        country:
          type: string
          description: user's country
          example: Israel
        password:
          type: string
          minLength: 5
          maxLength: 10
          format: password
          description: password between 5 to 10 chars, must consist of 1 digit and 1 special char
          example: 123456!
        email:
          type: string
          format: email
          description: user's email
          example: abc@gmail.com
        image-url:
          type: string
          format: URL
          description: url for user's image
          example: https://cloudinary.com/abc
    mainPageLeagueDetails:
      type: object
      description: league name,current season, current stage, next planned game
      properties:
        leaguename:
          type: string
          description: league's name
          example: SuperLiga
        currentseason:
          type: string
          description: current league's season
          example: 2020/2021
        currentstage:
          type: string
          description: current stage of current season
          example: 25
        nextplannedgame:
          type: object
          description: game object
          properties:
            hometeam:
                type: string
                description: the name of home team
                example: Real Madrid
            awayteam:
              type: string
              description: the name of away team
              example: Barcelona
            date: 
              type: string
              description: the date of the game
              example: 5/2/09
            hour:
              type: string
              description: the hour of the game
              example: 21:45
            stadium:
              type: string
              description: the stadium of the game
              example: Santiago Bernabeu
            result:
              type: string
              description: the result of the game
              example: 2-6
            events_schedule:
              type: array
              description: array of all events at the game
              items:
                type: object
                description: array of all events at the game
                properties:
                  date: 
                    type: string
                    description: the date of the game
                    example: 5/2/09
                  hour:
                    type: string
                    description: the hour of the game
                    example: 21:45
                  min_in_game:
                    type: integer
                    example: 4
                  event_description:
                    type: string
                    example: goal by messi
    mainPageGames:
      type: array
      description: array of 3 favourite games
      items:
        type: object
        description: game object
        properties:
          hometeam:
              type: string
              description: the name of home team
              example: Real Madrid
          awayteam:
            type: string
            description: the name of away team
            example: Barcelona
          date: 
            type: string
            description: the date of the game
            example: 5/2/09
          hour:
            type: string
            description: the hour of the game
            example: 21:45
          stadium:
            type: string
            description: the stadium of the game
            example: Santiago Bernabeu
          result:
            type: string
            description: the result of the game
            example: 2-6
          events_schedule:
            type: array
            description: array of all events at the game
            items:
              type: object
              description: array of all events at the game
              properties:
                date: 
                  type: string
                  description: the date of the game
                  example: 5/2/09
                hour:
                  type: string
                  description: the hour of the game
                  example: 21:45
                min_in_game:
                  type: integer
                  example: 4
                event_description:
                  type: string
                  example: goal by messi
    team:
      type: object
      description: team's object with all teams players and the coach
      properties:
        players:
          type: array
          items:
            type: object
            description: player's object
            properties:
              full_name:
                type: string
                description: full name of the player
                example: Lionel Messi
              team_Name:
                type: string
                description: name of the player team
                example: Barcelona
              pic:
                type: string
                description: url of the player's picture
                example: https://cloudinary.com/abc
              position_number:
                type: integer
                description: position number
                example: 9
        coach:
          type: object
          description: coach's object
          properties:
            full_name:
              type: string
              description: full name of the coach
              example: Pep Guardiola
            team_Name:
              type: string
              description: coach team name
              example: Manchester City
            pic:
              type: string
              description: url of the coach's picture
              example: https://cloudinary.com/abc
        games:
          type: array
          description: array of all tram's games
          items:
            type: object
            description: game object
            properties:
              hometeam:
                  type: string
                  description: the name of home team
                  example: Real Madrid
              awayteam:
                type: string
                description: the name of away team
                example: Barcelona
              date: 
                type: string
                description: the date of the game
                example: 5/2/09
              hour:
                type: string
                description: the hour of the game
                example: 21:45
              stadium:
                type: string
                description: the stadium of the game
                example: Santiago Bernabeu
              result:
                type: string
                description: the result of the game
                example: 2-6
              events_schedule:
                type: array
                description: array of all events at the game
                items:
                  type: object
                  description: array of all events at the game
                  properties:
                    date: 
                      type: string
                      description: the date of the game
                      example: 5/2/09
                    hour:
                      type: string
                      description: the hour of the game
                      example: 21:45
                    min_in_game:
                      type: integer
                      example: 4
                    event_description:
                      type: string
                      example: goal by messi
    weekGames:
      type: array
      description: array of all weeks games
      items:
        type: object
        description: game object
        properties:
          hometeam:
              type: string
              description: the name of home team
              example: Real Madrid
          awayteam:
            type: string
            description: the name of away team
            example: Barcelona
          date: 
            type: string
            description: the date of the game
            example: 5/2/09
          hour:
            type: string
            description: the hour of the game
            example: 21:45
          stadium:
            type: string
            description: the stadium of the game
            example: Santiago Bernabeu
          result:
            type: string
            description: the result of the game
            example: 2-6
          events_schedule:
            type: array
            description: array of all events at the game
            items:
              type: object
              description: array of all events at the game
              properties:
                date: 
                  type: string
                  description: the date of the game
                  example: 5/2/09
                hour:
                  type: string
                  description: the hour of the game
                  example: 21:45
                min_in_game:
                  type: integer
                  example: 4
                event_description:
                  type: string
                  example: goal by messi
	playerDetails:
      type: object
      description: player's object
      properties:
        id:
          type: integer
          description: player's id
          example: 1
        full_name:
          type: string
          description: full name of the player
          example: Lionel Messi
        team_Name:
          type: string
          description: name of the player team
          example: Barcelona
        pic:
          type: string
          description: url of the player's picture
          example: https://cloudinary.com/abc
        position_number:
          type: integer
          description: position number
          example: 9
    favoritePlayer:
      type: integer
      description: player's id
    coachDetails:
      type: object
      description: coach's object
      properties:
        full_name:
          type: string
          description: full name of the coach
          example: Pep Guardiola
        team_Name:
          type: string
          description: coach team name
          example: Manchester City
        pic:
          type: string
          description: url of the coach's picture
          example: https://cloudinary.com/abc
    playersList:
      type: array
      description: list of players
      items:
        type: object
        description: player object
        properties:
          id:
            type: integer
            description: player's id
            example: 1
          full_name:
            type: string
            description: full name of the player
            example: Lionel Messi
          team_Name:
            type: string
            description: name of the player team
            example: Barcelona
          pic:
            type: string
            description: url of the player's picture
            example: https://cloudinary.com/abc
          position_number:
            type: integer
            description: position number
            example: 9
    coachesList:
      type: array
      items:
        type: object
      description: coach's object
      properties:
        full_name:
          type: string
          description: full name of the coach
          example: Pep Guardiola
        team_Name:
          type: string
          description: coach team name
          example: Manchester City
        pic:
          type: string
          description: url of the coach's picture
          example: https://cloudinary.com/abc
    teamsList:
      type: array
      items:
        type: object
        description: team's object with all teams players and the coach
        properties:
          players:
            type: array
            items:
              type: object
              description: player's object
              properties:
                full_name:
                  type: string
                  description: full name of the player
                  example: Lionel Messi
                team_Name:
                  type: string
                  description: name of the player team
                  example: Barcelona
                pic:
                  type: string
                  description: url of the player's picture
                  example: https://cloudinary.com/abc
                position_number:
                  type: integer
                  description: position number
                  example: 9